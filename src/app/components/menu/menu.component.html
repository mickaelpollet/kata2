<mat-toolbar color="primary" class="fixed-toolbar mat-elevation-z4">

    <button mat-icon-button [matMenuTriggerFor]="menu" class="mobile-menu-button">
        <mat-icon>menu</mat-icon>
    </button>

    <span class="app-title">KATA 2</span>

    <span class="spacer desktop-only"></span>

    <nav class="desktop-only">
        <a mat-button routerLink="/" routerLinkActive="active-link">Home</a>
@if (authenticated) {
        <a mat-button routerLink="/private" routerLinkActive="active-link">Private</a>
        <!-- <a mat-button routerLink="/admin" *kaHasRoles="['admin']" routerLinkActive="active-link">Admin</a> -->
}
    </nav>

    <span class="spacer"></span>

@if (!authenticated) {
    <button mat-icon-button class="icon-green" (click)="login()" matTooltip="Login" matTooltipPosition="below">
        <mat-icon>login</mat-icon>
    </button>
} @else {
    <button mat-icon-button class="icon-red" (click)="logout()" matTooltip="Logout" matTooltipPosition="below">
        <mat-icon>logout</mat-icon>
    </button>
}

    <button mat-icon-button class="settings-icon" (click)="openProfileModal()" matTooltip="Keycloak Profile Management" matTooltipPosition="below">
        <mat-icon>settings</mat-icon>
    </button>

@if (!keycloakStatus) {
    <button mat-icon-button class="keycloak-status icon-red" matTooltip="Keycloak Server Unavailable" matTooltipPosition="below">
        <mat-icon>cloud_alert</mat-icon>
    </button>
} @else {
    <button mat-icon-button class="keycloak-status icon-green" matTooltip="Keycloak Server Available" matTooltipPosition="below">
        <mat-icon>cloud_done</mat-icon>
    </button>
}

</mat-toolbar>

<mat-menu #menu="matMenu">
    <button mat-menu-item routerLink="/">Home</button>
@if (authenticated) {
    <button mat-menu-item routerLink="/private">Private</button>
    <!-- <button mat-menu-item routerLink="/admin" *kaHasRoles="['admin']">Admin</button> -->
}
</mat-menu>